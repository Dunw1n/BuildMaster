!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();class e{constructor(){this.init()}init(){this.initMobileMenu(),this.initTabs(),this.initSlider(),this.initForms(),this.initSmoothScroll(),this.initAnimations(),this.bindEvents()}initMobileMenu(){const e=document.getElementById("mobileMenuBtn"),t=document.querySelector(".nav"),s=document.querySelector(".nav-overlay");e&&t&&s&&(e.addEventListener("click",()=>{const i="true"===e.getAttribute("aria-expanded");e.setAttribute("aria-expanded",!i),t.classList.toggle("active"),s.classList.toggle("active"),document.body.classList.toggle("menu-open")}),s.addEventListener("click",()=>{e.setAttribute("aria-expanded","false"),t.classList.remove("active"),s.classList.remove("active"),document.body.classList.remove("menu-open")}),document.querySelectorAll(".nav-link").forEach(i=>{i.addEventListener("click",()=>{t.classList.contains("active")&&(e.setAttribute("aria-expanded","false"),t.classList.remove("active"),s.classList.remove("active"),document.body.classList.remove("menu-open"))})}),window.addEventListener("resize",()=>{window.innerWidth>767&&t.classList.contains("active")&&(e.setAttribute("aria-expanded","false"),t.classList.remove("active"),s.classList.remove("active"),document.body.classList.remove("menu-open"))}))}initTabs(){const e=document.querySelectorAll(".tab-btn"),t=document.querySelectorAll(".tab-content");e.forEach(s=>{s.addEventListener("click",()=>{const i=s.dataset.tab;e.forEach(e=>e.classList.remove("active")),t.forEach(e=>e.classList.remove("active")),s.classList.add("active"),document.getElementById(i).classList.add("active")})})}initSlider(){"undefined"!=typeof Swiper&&document.querySelector(".swiper")&&(this.swiper=new Swiper(".swiper",{loop:!0,speed:800,autoplay:{delay:5e3,disableOnInteraction:!1},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},effect:"slide",grabCursor:!0,on:{init:function(){const e=this.slides[this.activeIndex];if(e){const t=e.querySelector(".slide-content");t&&(t.style.opacity="1",t.style.transform="translateY(0)")}},slideChangeTransitionStart:function(){this.slides.forEach(e=>{const t=e.querySelector(".slide-content");t&&(t.style.opacity="0",t.style.transform="translateY(20px)")})},slideChangeTransitionEnd:function(){const e=this.slides[this.activeIndex];if(e){const t=e.querySelector(".slide-content");t&&(t.style.opacity="1",t.style.transform="translateY(0)")}}}}))}initForms(){const e=document.getElementById("subscribeForm");e&&e.addEventListener("submit",t=>{t.preventDefault();const s=e.querySelector(".newsletter-input"),i=s.value;if(!i||!this.validateEmail(i))return void this.showNotification("Пожалуйста, введите корректный email","error");s.value="";const n=e.querySelector("button"),o=n.innerHTML;n.innerHTML='<i class="fas fa-check"></i> Успешно!',n.style.background="var(--success)",setTimeout(()=>{n.innerHTML=o,n.style.background=""},2e3),this.showNotification(`Спасибо за подписку! На адрес ${i} отправлено письмо с подтверждением.`,"success")});const t=document.querySelector(".call-btn");t&&t.addEventListener("click",()=>{this.showNotification("Наш менеджер свяжется с вами в ближайшее время!")})}validateEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}initSmoothScroll(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const s=e.getAttribute("href");if("#"===s)return;const i=document.querySelector(s);if(i){const e=document.getElementById("mobileMenuBtn"),t=document.querySelector(".nav"),s=document.querySelector(".nav-overlay");t&&t.classList.contains("active")&&(e.setAttribute("aria-expanded","false"),t.classList.remove("active"),s.classList.remove("active"),document.body.classList.remove("menu-open"));const n=document.getElementById("header")?.offsetHeight||80;window.scrollTo({top:i.offsetTop-n,behavior:"smooth"})}})})}initAnimations(){if("IntersectionObserver"in window){const e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.style.opacity="1",e.target.style.transform="translateY(0)")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".category-card, .tab-item, .product-card").forEach(t=>{t.style.opacity="0",t.style.transform="translateY(20px)",t.style.transition="opacity 0.6s ease, transform 0.6s ease",e.observe(t)})}}bindEvents(){document.addEventListener("click",e=>{const t=e.target.closest(".view-details");if(t){const e=t.closest(".product-card"),s=e?.querySelector(".product-title")?.textContent||"Товар";this.showNotification(`Страница товара "${s}" в разработке`)}e.target.closest(".category-link")&&(e.preventDefault(),this.showNotification("Категория товаров в разработке"));const s=e.target.closest(".hero-buttons .btn");s&&"#contact"===s.getAttribute("href")&&(e.preventDefault(),this.showNotification("Наш менеджер свяжется с вами для консультации"))})}showNotification(e,t="info"){const s=document.querySelector(".notification-toast");s&&s.remove();const i=document.createElement("div");i.className="notification-toast",i.textContent=e,i.setAttribute("role","alert"),i.setAttribute("aria-live","assertive"),i.style.background="success"===t?"var(--success)":"error"===t?"#ef4444":"var(--primary)",i.style.cssText+="\n            position: fixed;\n            bottom: 20px;\n            right: 20px;\n            color: white;\n            padding: 16px 24px;\n            border-radius: var(--radius-md);\n            box-shadow: var(--shadow-xl);\n            z-index: 10000;\n            max-width: 350px;\n            opacity: 0;\n            transform: translateX(100%);\n            transition: opacity 0.3s ease, transform 0.3s ease;\n        ",document.body.appendChild(i),requestAnimationFrame(()=>{i.style.opacity="1",i.style.transform="translateX(0)"}),setTimeout(()=>{i.style.opacity="0",i.style.transform="translateX(100%)",setTimeout(()=>{i.parentNode&&i.parentNode.removeChild(i)},300)},3e3),i.addEventListener("click",()=>{i.style.opacity="0",i.style.transform="translateX(100%)",setTimeout(()=>{i.parentNode&&i.parentNode.removeChild(i)},300)})}}document.addEventListener("DOMContentLoaded",()=>{new e});
